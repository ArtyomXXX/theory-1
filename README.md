# theory-1


# Написать что выводит данный код
______________________________________________________________________________

<nobr>
    const arr = [10, 12, 15, 21];

    for(var i = 0; i < arr.length; i++){
        setTimeout(function() {
            console.log(arr[i] > 13 ? `Good: ${arr[i]}` : `Bad: ${arr[i]}`)
        }, 3000)
    }
</nobr>

# Ответ!
______________________________________________________________________________

Данный код выводит следующее:

 <nobr>  
        Bad: undefined <br />
        Bad: undefined <br />
        Bad: undefined <br />
        Bad: undefined <br />
</nobr>


Это происходит из-за того, что используется `var` для объявления переменной `i` в цикле.
В результате переменная `i` имеет глобальную область видимости и будет иметь значение `4` после завершения цикла.
Таким образом, к моменту выполнения функции `setTimeout`, значение `i` будет уже равно `4`, и попытка доступа к элементу
массива `arr[4]` вызовет ошибку и вернёт значение `undefined`.

Чтобы исправить это поведение, нужно использовать `let` вместо `var` для объявления переменной `i`.
Это создаст блочную область видимости для переменной `i`, и каждый вызов функции `setTimeout`
будет иметь своё собственное значение `i` в соответствии с текущей итерацией.


# Варианты модификации кода
______________________________________________________________________________

Если мы хотим вывести строку значений через запятую:
Первый вариант модификации:

<nobr>
    const arr = [10, 12, 15, 21];

    const result = [];

    for( let i = 0; i < arr.length; i++ ) {
        if (arr[i] > 13) {
            result.push(`Good: ${arr[i]}`);
        } else {
            result.push(`Bad: ${arr[i]}`);
        }
    }

    setTimeout(function() {
        console.log(result.join(', '));
    }, 3000)
</nobr>


______________________________________________________________________________

Второй вариант модификации:

<nobr>
    const arr = [10, 12, 15, 21];

    let str = '';

    for( let i = 0; i < arr.length; i++ ) {
    arr[i] > 13 ? str = str + `Good: ${arr[i]}, ` : str = str + `Bad: ${arr[i]}, `;
    }

    setTimeout(function() {
        console.log(str.slice(0, -2));
    }, 3000)
</nobr>